<!doctype html>
<html lang="en" ng-app="app">
<head>
  <meta charset="utf-8">
  <title>My AngularJS App</title>
  <!-- bootswatch superhero theme -->
  <link rel="stylesheet" href="css/bootstrap.min.css"/>
  <link rel="stylesheet" href="css/app.css"/>
</head>
<body ng-controller="appController">

  <div ng-controller="sidebarController" class="sidebar">

    <h3 class="sidebar-title">Filter by Tag</h3>
    <div ng-controller="filterController">
        <table class="tag-table">
            <tr ng-repeat="tag in tags | orderBy:'-count'"
                ng-click="toggleTag(tag)"
                ng-class="{ highlight: tag.selected }"
                class="clickable">
                <td class="tag-name">{{ tag.name }}</td>
                <td class="tag-count">{{ tag.count }}</td>
            </tr>
        </table>
    </div>

    <h3 class="sidebar-title">Emails</h3>
    <div ng-repeat="email in emails | filter:tagFilter">
        <div ng-controller="emailShortController">
            <span ng-click="toggleEmail()"
                  class="pull-quote clickable"
                  ng-class="{ highlight: email.open }">
                {{ email.title }}
            </span>
        </div>
    </div>

  </div>

    <div ng-controller="contentController" class="content">
      <div ng-repeat="email in emails | filter:{open:true} | filter:tagFilter | orderBy:'-position'">
        <div class="content-email" ng-controller="emailFullController">
          <span class="content-close clickable" ng-click="closeEmail()"> Close </span>
          <h3 class="content-title"> {{ email.title }}</h1>
          <span class="content-tag"
                ng-repeat="tag in email.tags"
                ng-class="{ highlight: inSelectedTagNames(tag) }">
            {{tag}}
          </span>
          <div class="content-body">
            {{email.message}}
          </div>
        </div>
      </div>
    </div>

  </div> 


  <!-- In production use:
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/x.x.x/angular.min.js"></script>
  -->
  <script src="lib/angular/angular.js"></script>
  <script src="lib/angular/angular-route.js"></script>
  <script src="js/data.js"></script>
  <script src="js/app.js"></script>
  <script src="js/controllers.js"></script>
  <script src="js/filters.js"></script>
</body>
</html>
